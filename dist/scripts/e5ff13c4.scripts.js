"use strict";angular.module("codeGalleryApp",["ngCookies","ngResource","ngSanitize","ngRoute"]).config(["$routeProvider","$sceDelegateProvider",function(a,b){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",reloadOnSearch:!1}).otherwise({redirectTo:"/"}),b.resourceUrlWhitelist(["self","http://blog.jamie.ly/**","http://jamie.ly/**","https://www.youtube.com/**","http://www.youtube.com/**"])}]),function(){var a=function(a,b,c,d){function e(b){a.projects=b,f()}function f(a){a=a||500,setTimeout(function(){c()},a)}function g(a){d.search(a).then(function(a){e(a)})}function h(){e(i),a.searchText=""}var i=[];d.index().then(function(a){i=a,e(i)}),a.search=g,a.reset=h};angular.module("codeGalleryApp").controller("MainCtrl",["$scope","$location","$anchorScroll","ProjectService",a])}(),angular.module("codeGalleryApp").factory("ProjectFormatterFactory",function(){function a(a){a.images=[],a.links.forEach(function(b){"article"==b.type&&(a.mainArticleLink=b),"image"==b.type&&(a.images.push(b),a.mainImage=b)})}return function(b){return a(b)}}),function(){function a(a,b){return _(a).some(function(a){return b.test(a)})}function b(b){return function(c){return b.test(c.title)||b.test(c.description)||a(c.tags,b)||a(c.tools,b)}}function c(a){function c(c){if(!c)return a;if(""===c.trim())return a;var d=new RegExp(c,"i");return _(a).filter(b(d)).value()}return c}var d=function(){return c};angular.module("codeGalleryApp").service("SearchFactory",d)}(),angular.module("codeGalleryApp").service("ProjectService",["$http","$q","ProjectFormatterFactory","SearchFactory",function(a,b,c,d){var e="code/json/projects.json",f=null,g=(this.search=function(a){return g().then(function(b){return d(b)(a)})},this.index=function(){var d=b.defer();return f?(d.resolve(f),d.promise):(a.get(e).success(function(a){f=a,f.forEach(c),d.resolve(f)}).error(function(a){d.reject(a)}),d.promise)})}]),angular.module("codeGalleryApp").directive("jalProject",function(){return{restrict:"E",scope:{project:"="},templateUrl:"views/project.html"}});